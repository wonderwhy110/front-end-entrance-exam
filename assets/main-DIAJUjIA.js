(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=i(t);fetch(t.href,e)}})();document.addEventListener("DOMContentLoaded",function(){function a(t){return t.hasAttribute("name")&&t.getAttribute("name")==="editable"&&!t.classList.contains("no-edit")}function o(){document.querySelectorAll('[name="editable"]').forEach(t=>{const e=localStorage.getItem(t.id);e&&(t.innerHTML=e,t.dataset.original=e)})}document.addEventListener("click",function(t){const e=t.target;a(e)?(t.stopPropagation(),i(e)):document.querySelector('[name="editable"].editing')&&r()}),document.addEventListener("keydown",function(t){t.key==="Enter"&&document.querySelector('[name="editable"].editing')&&(t.preventDefault(),r())});function i(t){document.querySelector('[name="editable"].editing')&&r(),t.contentEditable=!0,t.classList.add("editing"),t.focus(),t.dataset.original||(t.dataset.original=t.innerHTML)}function r(){const t=document.querySelector('[name="editable"].editing');t&&(t.contentEditable=!1,t.classList.remove("editing"),localStorage.setItem(t.id,t.innerHTML))}o(),document.querySelectorAll(".ripple").forEach(t=>{t.addEventListener("click",function(e){const n=document.createElement("span");n.classList.add("ripple-effect");const d=t.getBoundingClientRect(),s=Math.max(d.width,d.height),l=e.clientX-d.left-s/2,c=e.clientY-d.top-s/2;n.style.width=n.style.height=`${s}px`,n.style.left=`${l}px`,n.style.top=`${c}px`,t.appendChild(n),n.addEventListener("animationend",()=>{n.remove()})})})});document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector(".btn-download");a.addEventListener("click",async function(){const o=window.innerWidth>1024;try{a.disabled=!0;const i=document.getElementById("app"),r=i.style.paddingBottom;i.style.paddingBottom="20px";const t=await html2canvas(i,{scale:o?4:2,useCORS:!0,allowTaint:!0,logging:!0,width:i.scrollWidth*(o?2:1),height:i.scrollHeight*(o?2:1),windowWidth:i.scrollWidth*(o?2:1),windowHeight:i.scrollHeight*(o?2:1)+200,onclone:function(m){m.getElementById("app").style.paddingBottom="20px"}});i.style.paddingBottom=r;const e=t.toDataURL("image/png",1),n=new jspdf.jsPDF({orientation:"portrait",unit:"mm",format:"a4"}),d=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight(),l=n.getImageProperties(e),c=o?d*1:d-10,p=o?0:5,g=l.height*c/l.width;let f=g,u=5;for(n.addImage(e,"PNG",p,u,c,g),f-=s;f>0;)n.addPage(),u=u-s,n.addImage(e,"PNG",p,u,c,g),f-=s;n.save("моё_резюме.pdf")}catch(i){console.error("Ошибка при создании PDF:",i),alert("Произошла ошибка при создании PDF. Пожалуйста, попробуйте позже.")}finally{a.textContent="Скачать",a.classList.remove("generating"),a.disabled=!1}})});
