(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();document.addEventListener("DOMContentLoaded",function(){function a(t){return t.hasAttribute("name")&&t.getAttribute("name")==="editable"&&!t.classList.contains("no-edit")}function o(){document.querySelectorAll('[name="editable"]').forEach(t=>{const e=localStorage.getItem(t.id);e&&(t.innerHTML=e,t.dataset.original=e)})}document.addEventListener("click",function(t){const e=t.target;a(e)?(t.stopPropagation(),n(e)):document.querySelector('[name="editable"].editing')&&r()}),document.addEventListener("keydown",function(t){t.key==="Enter"&&document.querySelector('[name="editable"].editing')&&(t.preventDefault(),r())});function n(t){document.querySelector('[name="editable"].editing')&&r(),t.contentEditable=!0,t.classList.add("editing"),t.focus(),t.dataset.original||(t.dataset.original=t.innerHTML)}function r(){const t=document.querySelector('[name="editable"].editing');t&&(t.contentEditable=!1,t.classList.remove("editing"),localStorage.setItem(t.id,t.innerHTML))}o(),document.querySelectorAll(".ripple").forEach(t=>{t.addEventListener("click",function(e){const i=document.createElement("span");i.classList.add("ripple-effect");const d=t.getBoundingClientRect(),s=Math.max(d.width,d.height),c=e.clientX-d.left-s/2,l=e.clientY-d.top-s/2;i.style.width=i.style.height=`${s}px`,i.style.left=`${c}px`,i.style.top=`${l}px`,t.appendChild(i),i.addEventListener("animationend",()=>{i.remove()})})})});document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector(".btn-download");a.addEventListener("click",async function(){const o=window.innerWidth>1024;try{a.disabled=!0;const n=document.getElementById("app"),r=n.style.paddingBottom;n.style.paddingBottom="20px";const t=await html2canvas(n,{scale:o?4:2,useCORS:!0,allowTaint:!0,logging:!0,width:n.scrollWidth*(o?2:1),height:n.scrollHeight*(o?2:1),windowWidth:n.scrollWidth*(o?2:1),windowHeight:n.scrollHeight*(o?2:1)+200,onclone:function(p){p.getElementById("app").style.paddingBottom="20px"}});n.style.paddingBottom=r;const e=t.toDataURL("image/png",1),i=new jspdf.jsPDF({orientation:"portrait",unit:"mm",format:"a4"}),d=i.internal.pageSize.getWidth(),s=i.getImageProperties(e),c=o?d*1:d-10,l=o?0:5,u=s.height*c/s.width;let f=u,g=5;for(i.addImage(e,"PNG",l,g,c,u),f-=pageHeight;f>0;)i.addPage(),g=g-pageHeight,i.addImage(e,"PNG",l,g,c,u),f-=pageHeight;i.save("моё_резюме.pdf")}catch(n){console.error("Ошибка при создании PDF:",n),alert("Произошла ошибка при создании PDF. Пожалуйста, попробуйте позже.")}finally{a.textContent="Скачать",a.classList.remove("generating"),a.disabled=!1}})});
