(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",function(){function o(e){return e.hasAttribute("name")&&e.getAttribute("name")==="editable"&&!e.classList.contains("no-edit")}function i(){document.querySelectorAll('[name="editable"]').forEach(e=>{const t=localStorage.getItem(e.id);t&&(e.innerHTML=t,e.dataset.original=t)})}document.addEventListener("click",function(e){const t=e.target;o(t)?(e.stopPropagation(),s(t)):document.querySelector('[name="editable"].editing')&&a()}),document.addEventListener("keydown",function(e){e.key==="Enter"&&document.querySelector('[name="editable"].editing')&&(e.preventDefault(),a())});function s(e){document.querySelector('[name="editable"].editing')&&a(),e.contentEditable=!0,e.classList.add("editing"),e.focus(),e.dataset.original||(e.dataset.original=e.innerHTML)}function a(){const e=document.querySelector('[name="editable"].editing');e&&(e.contentEditable=!1,e.classList.remove("editing"),localStorage.setItem(e.id,e.innerHTML))}i(),document.querySelectorAll(".ripple").forEach(e=>{e.addEventListener("click",function(t){const n=document.createElement("span");n.classList.add("ripple-effect");const r=e.getBoundingClientRect(),d=Math.max(r.width,r.height),c=t.clientX-r.left-d/2,l=t.clientY-r.top-d/2;n.style.width=n.style.height=`${d}px`,n.style.left=`${c}px`,n.style.top=`${l}px`,e.appendChild(n),n.addEventListener("animationend",()=>{n.remove()})})})});document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector(".btn-download");o.addEventListener("click",async function(){try{o.disabled=!0;const i=document.getElementById("app"),s=i.style.paddingBottom;i.style.paddingBottom="20px";const a=await html2canvas(i,{scale:2,useCORS:!0,allowTaint:!0,logging:!0,windowHeight:i.scrollHeight+100,onclone:function(f){f.getElementById("app").style.paddingBottom="20px"}});i.style.paddingBottom=s;const e=a.toDataURL("image/png",1),t=new jspdf.jsPDF({orientation:"portrait",unit:"mm",format:"a4"}),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),d=t.getImageProperties(e),c=n-10,l=d.height*c/d.width;let u=l,g=5,p=1;t.addImage(e,"PNG",5,g,c,l),u-=r,t.save("моё_резюме.pdf")}catch(i){console.error("Ошибка при создании PDF:",i),alert("Произошла ошибка при создании PDF. Пожалуйста, попробуйте позже.")}finally{o.textContent="Скачать",o.classList.remove("generating"),o.disabled=!1}})});
